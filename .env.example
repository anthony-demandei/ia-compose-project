# =============================================================================
# IA COMPOSE API - Environment Configuration
# =============================================================================
# Copy this file to .env and configure your values
# DO NOT commit .env file to version control!

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Environment: development, staging, production
ENVIRONMENT=development

# Debug mode (enables verbose logging and development features)
DEBUG=false

# Server configuration
HOST=0.0.0.0
PORT=8001

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# Demandei Platform API Key (REQUIRED)
# This is the API key used to authenticate requests from the Demandei platform
DEMANDEI_API_KEY=your_demandei_api_key_here

# =============================================================================
# AI CONFIGURATION - GOOGLE GEMINI
# =============================================================================

# Google Gemini API Key (REQUIRED)
# Get your API key from: https://ai.google.dev/
GEMINI_API_KEY=AIzaSyBzEr9w7CZ4nwp4p-Szqfqc1YgOCqm8nos

# Gemini Model Selection
# Options: gemini-2.5-flash, gemini-2.0-flash-exp, gemini-1.5-flash, gemini-1.5-pro
# Recommendation: gemini-2.0-flash-exp (best performance/cost ratio)
GEMINI_MODEL=gemini-2.0-flash-exp

# =============================================================================
# DOCUMENT GENERATION SETTINGS
# =============================================================================

# Minimum lines of documentation per technology stack
DOC_MIN_LINES_PER_STACK=500

# Maximum generation attempts per document
DOC_MAX_GENERATION_ATTEMPTS=3

# AI temperature for document generation (0.0 = deterministic, 1.0 = creative)
DOC_GENERATION_TEMPERATURE=0.8

# Maximum tokens per document generation request
DOC_GENERATION_MAX_TOKENS=8000

# =============================================================================
# QUESTION ENGINE SETTINGS
# =============================================================================

# Maximum questions per selection batch
QUESTION_MAX_PER_SELECTION=15

# Similarity threshold for question matching (0.0-1.0)
QUESTION_SIMILARITY_THRESHOLD=0.7

# Question cache TTL in seconds (1 hour = 3600)
QUESTION_CACHE_TTL_SECONDS=3600

# AI temperature for question generation (lower = more consistent)
QUESTION_GENERATION_TEMPERATURE=0.5

# Maximum tokens per question generation request
QUESTION_GENERATION_MAX_TOKENS=2048

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# Use local file storage (true for development, false for cloud in production)
USE_LOCAL_STORAGE=true

# Local storage paths (used when USE_LOCAL_STORAGE=true)
LOCAL_STORAGE_PATH=./storage
LOCAL_DOCUMENTS_PATH=./storage/documents
LOCAL_SESSIONS_PATH=./storage/sessions

# Cloud Storage Configuration (for production deployments)
# Google Cloud Storage bucket name
GCS_BUCKET_NAME=

# Path to GCP service account credentials JSON file
GCS_CREDENTIALS_PATH=

# Firestore project ID for session storage
FIRESTORE_PROJECT_ID=

# =============================================================================
# SESSION MANAGEMENT
# =============================================================================

# Maximum session duration in seconds (1 hour = 3600)
MAX_SESSION_DURATION=3600

# Session cleanup interval in seconds (5 minutes = 300)
SESSION_CLEANUP_INTERVAL=300

# =============================================================================
# API CONFIGURATION
# =============================================================================

# CORS allowed origins (comma-separated list in quotes)
CORS_ORIGINS=["http://localhost:3000","http://localhost:8080","http://localhost:8000"]

# Maximum request size in bytes (10MB = 10485760)
MAX_REQUEST_SIZE=10485760

# Request timeout in seconds (2 minutes = 120)
REQUEST_TIMEOUT=120

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Enable PII-safe logging (removes sensitive information)
ENABLE_PII_SAFE_LOGGING=true

# Log file path (relative to project root)
LOG_FILE_PATH=./logs/app.log

# Log file rotation size
LOG_ROTATION_SIZE=10MB

# Log retention in days
LOG_RETENTION_DAYS=30

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Enable gzip response compression
ENABLE_RESPONSE_COMPRESSION=true

# Enable request validation with Pydantic
ENABLE_REQUEST_VALIDATION=true

# Maximum concurrent requests
MAX_CONCURRENT_REQUESTS=100

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development-specific settings (only used when ENVIRONMENT=development)

# Enable auto-reload on code changes
DEV_AUTO_RELOAD=true

# Enable detailed error responses
DEV_DETAILED_ERRORS=true

# Enable request/response logging
DEV_LOG_REQUESTS=false

# =============================================================================
# MONITORING & METRICS (OPTIONAL)
# =============================================================================

# Enable application metrics collection
ENABLE_METRICS=false

# Prometheus metrics port
PROMETHEUS_PORT=9090

# Health check endpoint path
HEALTH_CHECK_PATH=/health

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================

# Production-specific environment variables
# Uncomment and configure for production deployments

# Production security
# SESSION_COOKIE_SECURE=true
# SESSION_COOKIE_HTTPONLY=true
# SESSION_COOKIE_SAMESITE=strict

# Production performance
# ENABLE_CACHE=true
# CACHE_TTL=300
# RATE_LIMIT_REQUESTS=100
# RATE_LIMIT_WINDOW=60

# Production monitoring
# SENTRY_DSN=your_sentry_dsn_here
# DATADOG_API_KEY=your_datadog_api_key_here

# =============================================================================
# EXAMPLE CONFIGURATIONS BY ENVIRONMENT
# =============================================================================

# Development Example:
# ENVIRONMENT=development
# DEBUG=true
# GEMINI_MODEL=gemini-1.5-flash
# USE_LOCAL_STORAGE=true
# LOG_LEVEL=DEBUG

# Staging Example:
# ENVIRONMENT=staging
# DEBUG=false
# GEMINI_MODEL=gemini-2.0-flash-exp
# USE_LOCAL_STORAGE=false
# GCS_BUCKET_NAME=my-staging-bucket
# LOG_LEVEL=INFO

# Production Example:
# ENVIRONMENT=production
# DEBUG=false
# GEMINI_MODEL=gemini-2.5-flash
# USE_LOCAL_STORAGE=false
# GCS_BUCKET_NAME=my-production-bucket
# FIRESTORE_PROJECT_ID=my-prod-project
# LOG_LEVEL=WARNING